<h1>Admin Dashboard</h1>

<% if current_user.charity_admin? %>
  <% if @charity %>
    <div class = "charity-admin-charity">
      <h2> <%= @charity.name %> <h2>
        <%= link_to "Update Charity", edit_charity_path(@charity), class: "btn btn-warning" %>
    </div>
  <% end %>
      <%= link_to "All Families", admin_families_path, class: "btn btn-warning" %>
      <%= link_to "Create a New Family", new_admin_family_path, class: "btn btn-primary" %>
<% end %>


<% if current_user.platform_admin? %>
<div class="container">

<div class="btn-group">
  <button type="button" class="btn btn-default" id="pending">Pending Charities</button>
  <button type="button" class="btn btn-default" id="online">Online Charities</button>
  <button type="button" class="btn btn-default" id="offline">Offline Charities</button>
</div>

<div class="charities hidden" id="padmin-pending">
  <div class="details">
    <h2>Pending Charities</h2>
  </div>
  <div class = "pending">
    <%= render partial: 'padmin', locals: {charity_type: @pending_charities} %>
  </div>
</div>

<div class="charities hidden" id="padmin-online">
  <div class="details">
    <h2>Online Charities</h2>
  </div>
  <div class = "online">
    <%= render partial: 'padmin', locals: {charity_type: @online_charities} %>
  </div>
</div>

<div class="charities didden" id="padmin-offline">
  <div class="details">
    <h2>Offline Charities</h2>
  </div>  <div class = "offline">
    <%= render partial: 'padmin', locals: {charity_type: @offline_charities} %>
  </div>
</div>

</div>
<% end %>


<div class="details">
  <% if @charity %>
    <h2>Administrators for <%= @charity.name %></h2>
  <% else %>
    <h2>All Charity Administrators</h2>
  <% end %>
</div>

<div class="search-font filter">
    <label>Filter By Username  </label>
    <input type="text" placeholder="Username" id="user_filter_username">
</div>

<div class="box">
  <%= link_to "Create New Admin", new_admin_user_path, class: "btn button-indigo" %>
</div>

<div class="col-sm-12 col-sm-offset-1 users">
  <% @users.each do |user| %>
    <div data-username="<%= user.username %>"class="form-box col-sm-5 user">
      <div class="white-texxt">
        <%= user.username %>
      </div>
      <div>
        <%= form_for [:admin, user], multipart: true do |f|  %>
          <div class="form-group">
            <%= f.label :username %>
            <%= f.text_field :username, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= f.label :email %>
            <%= f.email_field :email, class: "form-control" %>
          </div>

          <div class="form-group">
            <%= f.label :cell %>
            <%= f.telephone_field :cell, class: "form-control" %>
          </div>

          <%= f.submit "Update Admin", class: "btn btn-info active" %>
          <% end %>

          <div class="col-sm-2">
            <%= button_to "Demote Status", admin_user_path(user), method: :delete,  class: "btn btn-danger active btn-xs" %>
          </div>
      </div>
    </div>
  <% end %>
</div>
